import{a as e,j as r,L as t}from"./index-1254aa7c.js";import{r as o}from"./vendor-34749a99.js";import{b as s,L as i}from"./router-95e30238.js";import{u as l}from"./query-a34aeb08.js";import{L as a,P as n}from"./ProductCard-57f96bb6.js";import"./utils-b3c35dc8.js";const c=o.memo(()=>{const{id:o}=s(),{data:c,isLoading:d,isError:m,error:g}=l(["product",o],()=>e.getProduct(o),{enabled:!!o,staleTime:3e5}),{data:h=[]}=l(["products",{category:c?.category,related:!0}],()=>e.getProducts({category:c?.category},1,4),{enabled:!!c?.category,staleTime:6e5,select:e=>e.data.filter(e=>e.id!==c?.id)});if(d)return r.jsx(t,{message:"Loading product details..."});if(m||!c)return r.jsxs("div",{className:"error-state",style:{padding:"4rem 0",textAlign:"center"},children:[r.jsx("h2",{children:"Product not found"}),r.jsx("p",{children:g?.message||"The product you are looking for does not exist."}),r.jsx(i,{to:"/products",className:"btn",style:{marginTop:"1rem"},children:"Back to Products"})]});const x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c.price),p=Array.from({length:5},(e,r)=>r<Math.floor(c.rating));return r.jsx("div",{className:"product-detail-page",style:{padding:"2rem 0"},children:r.jsxs("div",{className:"container",children:[r.jsxs("nav",{style:{marginBottom:"2rem"},children:[r.jsx(i,{to:"/",style:{color:"var(--color-text-light)",textDecoration:"none"},children:"Home"})," / ",r.jsx(i,{to:"/products",style:{color:"var(--color-text-light)",textDecoration:"none"},children:"Products"})," / ",r.jsx("span",{style:{color:"var(--color-text)"},children:c.name})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"3rem",marginBottom:"4rem"},className:"product-details",children:[r.jsx("div",{className:"product-image-section",children:r.jsx(a,{src:c.imageUrl,alt:c.name,width:600,height:400,className:"main-product-image",style:{borderRadius:"var(--border-radius)",boxShadow:"var(--box-shadow)"}})}),r.jsxs("div",{className:"product-info-section",children:[r.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"600",marginBottom:"1rem",color:"var(--color-text)",lineHeight:"1.2"},children:c.name}),r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[r.jsx("div",{className:"stars",style:{display:"flex",marginRight:"0.5rem"},children:p.map((e,t)=>r.jsx("span",{style:{color:e?"#fbbf24":"#d1d5db",fontSize:"1.25rem"},children:"★"},t))}),r.jsxs("span",{style:{color:"var(--color-text-light)"},children:[c.rating.toFixed(1)," (",c.reviewCount," reviews)"]})]}),r.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--color-primary)",marginBottom:"1.5rem"},children:x}),r.jsx("div",{style:{display:"inline-flex",alignItems:"center",padding:"0.5rem 1rem",borderRadius:"var(--border-radius)",backgroundColor:c.inStock?"var(--color-success)":"var(--color-error)",color:"white",fontWeight:"600",marginBottom:"2rem"},children:c.inStock?"✓ In Stock":"✗ Out of Stock"}),r.jsxs("div",{style:{marginBottom:"2rem"},children:[r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"Description"}),r.jsx("p",{style:{color:"var(--color-text-light)",lineHeight:"1.6"},children:c.description})]}),c.features.length>0&&r.jsxs("div",{style:{marginBottom:"2rem"},children:[r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"Features"}),r.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:c.features.map((e,t)=>r.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",color:"var(--color-text-light)"},children:[r.jsx("span",{style:{color:"var(--color-success)",marginRight:"0.5rem",fontWeight:"600"},children:"✓"}),e]},t))})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[r.jsx("button",{className:"btn",disabled:!c.inStock,style:{backgroundColor:c.inStock?"var(--color-primary)":"#ccc",color:"white",padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600",cursor:c.inStock?"pointer":"not-allowed"},children:c.inStock?"Add to Cart":"Out of Stock"}),r.jsx("button",{className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600"},children:"Add to Wishlist"})]})]})]}),h.length>0&&r.jsxs("section",{className:"related-products",children:[r.jsx("h2",{style:{fontSize:"2rem",fontWeight:"600",marginBottom:"2rem",color:"var(--color-text)"},children:"Related Products"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:h.map(e=>r.jsx(n,{product:e},e.id))})]})]})})});c.displayName="ProductDetailPage";export{c as default};
